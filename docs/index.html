<!doctype html>
<html>
<head>
    <title>Vue JS Demo</title>

    <!--                                            -->
    <!-- This script is required bootstrap stuff.   -->
    <!--                                            -->
    <script type="text/javascript"
            language="javascript"
            src="VueGwtDemo/VueGwtDemo.nocache.js"></script>

    <!-- Vue JS Framework -->
    <script src="https://unpkg.com/vue/dist/vue.js"></script>

    <!-- Materialize CSS -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css">

    <!-- Materialize Javascript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>

    <!-- Syntax higlhlight -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
</head>

<body>
<nav>
    <div class="nav-wrapper purple">
        <a class="brand-logo">Vue GWT Demo</a>
        <ul id="nav-mobile" class="right hide-on-med-and-down">
            <li><a href="https://github.com/Axellience/vue-gwt-demo">View on Github</a></li>
        </ul>
    </div>
</nav>
<div class="container">
    <div class="row">
        <div class="col s12">
            <h1>Vue GWT Demo</h1>
            <p class="flow-text">
                This demo page displays some of the basic features of <a href="https://github.com/Axellience/vue-gwt">Vue GWT</a>.
                Vue GWT integrates <a href="https://vuejs.org/" target="_blank">Vue.JS</a> with
                <a href="http://www.gwtproject.org/" target="_blank">GWT</a> 2.8 using
                <a href="https://docs.google.com/document/d/10fmlEYIHcyead_4R1S5wKGs1t2I7Fnp_PaNaa7XTEk0/view" target="_blank">JsInterop</a>.
            </p>
            <p class="flow-text">
                If you are not familiar with Vue.JS, you should read the <a href="https://vuejs.org/v2/guide/" target="_blank">Vue.JS introduction guide</a>.
            </p>
        </div>
    </div>

    <div class="row">
        <div class="col s12">
            <h4>Simple counter App</h4>
            <p class="description">
                Let's see what a simple counter app in Vue GWT looks like.
            </p>
        </div>
        <div class="col s12 center">
            <div id="simpleCounterApp">
                <a class="btn orange" @click="increaseCounter">
                    Press me!
                </a>
                <p>
                    You pressed {{ counterValueÂ }} times
                </p>
            </div>
        </div>
        <div class="col s12 l6">
            <pre><code class="html">&lt;div id=&quot;simpleCounterApp&quot;&gt;
    &lt;a class=&quot;btn orange&quot; @click=&quot;increaseCounter&quot;&gt;
        Press me!
    &lt;/a&gt;
    &lt;p&gt;You pressed {{ counterValue&nbsp;}} times&lt;/p&gt;
&lt;/div&gt;</code></pre>
        </div>
        <div class="col s12 l6">
            <pre><code class="java">@JsType
public class SimpleCounterApp extends VueApp
{
    public int counterValue = 0;

    public SimpleCounterApp()
    {
        this.init("#simpleCounterApp");
    }

    public void increaseCounter()
    {
        this.counterValue++;
    }
}</code></pre>
        </div>
    </div>

    <div class="row">
        <div class="col s12">
            <h4>Simple counter component</h4>
            <p class="description">
                Vue.JS has the notion of reusable components.
                You can achieve this in Vue GWT pretty easily.
            </p>
            <p class="description">
                Let's do the same counter, but as a reusable component.
                Our component will be instantiable in any Vue.JS template using the &lt;simple-counter&gt;&lt;/simple-counter&gt; HTML tag.
            </p>
        </div>
        <div class="col s12 center">
            <div id="simpleCounterComponentContainer"></div>
        </div>
        <div class="col s12 l6">
            <pre><code class="html">&lt;div&gt;
    &lt;a class=&quot;btn orange&quot; @click=&quot;increaseCounter&quot;&gt;
        Press me!
    &lt;/a&gt;
    &lt;a class=&quot;btn grey&quot; @click=&quot;resetCounter&quot;&gt;
        Reset
    &lt;/a&gt;
    &lt;p&gt;
        You pressed {{ counterValue&nbsp;}} times
    &lt;/p&gt;
&lt;/div&gt;</code></pre>
        </div>
        <div class="col s12 l6">
            <pre><code class="java">@JsType
public class SimpleCounterComponent extends VueComponent
{
    public int counterValue = 0;

    public SimpleCounterComponent()
    {
        this.init("simple-counter", TEMPLATES.simpleCounter());
    }

    public void increaseCounter()
    {
        this.counterValue++;
    }

    public void resetCounter()
    {
        this.counterValue = 0;
    }
}</code></pre>
        </div>
    </div>

    <div class="row">
        <div class="col s12">
            <h4>Todo List component</h4>
            <p class="description">
                This example is mandatory when showing a new front-end framework, so here is a Todo List written with Vue GWT.
                <br>
                This Todo list is composed of 2 Components:
                <strong>TodoListComponent</strong> that manage the list of todos and
                <strong>TodoComponent</strong> that displays a single Todo.
            </p>
        </div>
        <div class="col s12 m6 push-m3 l4 push-l4">
            <div id="todoListComponentContainer"></div>
        </div>
        <div class="col s12">
            <h5>TodoListComponent</h5>
        </div>
        <div class="col s12 l6">
            <pre><code class="html">&lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col s12&quot;&gt;
        &lt;input type=&quot;text&quot; v-model=&quot;newTodoText&quot; @keypress.enter=&quot;addTodo&quot;&gt;
    &lt;/div&gt;
    &lt;div class=&quot;col s12&quot; v-show=&quot;todos.length&quot;&gt;
        &lt;a class=&quot;btn red&quot; @click=&quot;clearTodos&quot;&gt;
            Clear All
        &lt;/a&gt;
        &lt;a class=&quot;btn orange&quot; @click=&quot;clearDoneTodos&quot; v-show=&quot;doneTodos &gt; 0&quot;&gt;
            Clear Done
        &lt;/a&gt;
    &lt;/div&gt;
    &lt;div class=&quot;col s12&quot;&gt;
        &lt;div class=&quot;row&quot;&gt;
            &lt;div class=&quot;col s12&quot; v-for=&quot;todo in todos&quot;&gt;
                &lt;todo v-bind:todo=&quot;todo&quot; @removeTodo=&quot;removeTodo(todo)&quot;&gt;&lt;/todo&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
        </div>
        <div class="col s12 l6">
            <pre><code class="java">@JsType
public class TodoListComponent extends VueComponent
{
    public JsArray&lt;Todo&gt; todos = new JsArray&lt;&gt;();
    public String newTodoText = "";

    public TodoListComponent()
    {
        this.init("todo-list", TEMPLATES.todoList());
        this.registerComponent(new TodoComponent());
    }

    public void addTodo() {
        this.todos.push(new Todo(this.newTodoText));
        this.newTodoText = "";
    }

    public void removeTodo(Todo todo) {
        this.todos.splice(this.todos.indexOf(todo), 1);
    }

    public void clearTodos() {
        this.todos = new JsArray<>();
    }

    public void clearDoneTodos() {
        this.todos = this.todos.filter(value -> !value.isDone);
    }

    /**
     * Will be automatically called by Vue.JS to get the doneTodos value in your template
     * @return The number of todos that are done
     */
    public int computed_doneTodos() {
        int doneTodos = 0;
        for (Todo todo : this.todos.iterate())
        {
            if (todo.isDone)
                doneTodos++;
        }
        return doneTodos;
    }
}</code></pre>
        </div>
        <div class="col s12">
            <h5>TodoComponent</h5>
        </div>
        <div class="col s12 l6">
            <pre><code class="html">&lt;div&gt;
    &lt;p v-bind:class=&quot;{ isDone: todo.isDone }&quot;&gt;
        &lt;input type=&quot;checkbox&quot; v-model=&quot;todo.isDone&quot; v-bind:id=&quot;_uid&quot;/&gt;
        &lt;label v-bind:for=&quot;_uid&quot;&gt;{{ todo.text }}&lt;/label&gt;

        &lt;a class=&quot;btn red right&quot; v-bind:class=&quot;style.red&quot; @click=&quot;removeTodo&quot;&gt;
            &lt;i class=&quot;material-icons&quot;&gt;delete&lt;/i&gt;
        &lt;/a&gt;
    &lt;/p&gt;
&lt;/div&gt;</code></pre>
        </div>
        <div class="col s12 l6">
            <pre><code class="java">@JsType
public class TodoComponent extends VueComponent
{
    protected Todo todo;

    public TodoComponent()
    {
        this.init("todo", TEMPLATES.todo());
        this.addProp("todo");
    }

    /**
     * Emit an event when we want to delete the todo
     */
    public void removeTodo() {
        this.$emit("removeTodo", this.todo);
    }
}</code></pre>
            <pre><code class="java">@JsType
public class Todo
{
    public String text = "";
    public Boolean isDone = false;

    public Todo(String text)
    {
        this.text = text;
    }
}</code></pre>
        </div>
    </div>

    <div class="row">
        <div class="col s12">
            <h4>Backward compatibility with GWT User</h4>
            <p class="description">
                To avoid having to rewrite your whole application, you can easily instantiate Vue GWT components in a GWT user Panel.
                This let you write some part of you app as Vue GWT components and attach them to your current application.
                When you decide rewrite more of your application, you can just use these components in your Vue App without having to rewrite anything.
                <br>
                This is method is used for the todo list component above.
                You can see the Java code to instantiate and attach the component bellow:
            </p>
            <p class="description">

            </p>
        </div>
        <div class="col s12">
            <pre>
                <code class="java">
VueGwtPanel vueGwtPanel = new VueGwtPanel(new TodoListComponent());
RootPanel.get("todoListComponentContainer").add(vueGwtPanel);
</code></pre>
        </div>
    </div>
</div>

<style>
    .isDone label {
        text-decoration: line-through;
    }

    p.description {
        color: #666666;
    }

    code {
        position: relative;
    }

    code.html:after,
    code.java:after {
        position:    absolute;
        top:         0;
        right:       0;
        color:       #CCCCCC;
        text-align:  right;
        font-size:   1em;
        padding:     5px 10px 0;
        line-height: 15px;
        height:      15px;
        font-weight: 600;
    }

    code.html:after {
        content: 'HTML';
    }

    code.java:after {
        content: 'JAVA';
    }
</style>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
